-- tests for create_process
\set ECHO none
SELECT create_user('carol') AS user_id;
 user_id 
---------
       2
(1 row)

CALL create_process('proc_ok', 2, 5);
SELECT name, state, priority, owner_user_id FROM processes;
  name   | state | priority | owner_user_id 
---------+-------+----------+---------------
 proc_ok | new   |        5 |             2
(1 row)

CALL create_process('proc_ok', 2, 5);
ERROR:  Process name proc_ok already exists
CALL create_process('other', 999, 1);
ERROR:  insert or update on table "processes" violates foreign key constraint "processes_owner_user_id_fkey"
