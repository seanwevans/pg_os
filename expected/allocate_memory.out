-- tests for memory allocation
\set ECHO none
 assign_role_to_user 
---------------------
 
(1 row)

 grant_permission_to_role 
--------------------------
 
(1 row)

SELECT allocate_memory(2, 1, 512);
 allocate_memory 
-----------------
 
(1 row)

SELECT process_id, segment_id FROM process_memory;
 process_id | segment_id 
------------+------------
          1 |          1
(1 row)

SELECT allocate_memory(1, 1, 512);
ERROR:  User 1 does not have permission to allocate memory
